{-# OPTIONS_GHC -Wno-missing-export-lists #-}

{- |
æ¨¡å—ï¼šLecture1
æè¿°ï¼šHaskell ç¬¬ä¸€è¯¾æ ¸å¿ƒç»ƒä¹ 

æœ¬æ¨¡å—åŒ…å« 7 ä¸ªç»ƒä¹ ï¼Œç”¨äºå·©å›ºç¬¬ä¸€è¯¾å­¦åˆ°çš„æ¦‚å¿µã€‚

ç»ƒä¹ åˆ—è¡¨ï¼š
1. makeSnippet   - æ–‡æœ¬æˆªæ–­åŠŸèƒ½
2. sumOfSquares  - è®¡ç®—å¹³æ–¹å’Œ
3. lastDigit     - æå–æœ€åä¸€ä½æ•°å­—
4. minmax        - ä¸‰ä¸ªæ•°çš„æœ€å¤§æœ€å°å€¼å·®
5. subString     - å­å­—ç¬¦ä¸²æå–
6. strSum        - è§£æå¹¶æ±‚å’Œå­—ç¬¦ä¸²ä¸­çš„æ•°å­—
7. lowerAndGreater - ç»Ÿè®¡å’Œæ ¼å¼åŒ–é˜ˆå€¼æ•°æ®

æ¯ä¸ªå‡½æ•°éƒ½éœ€è¦ï¼š
- å®ç°å‡½æ•°é€»è¾‘
- æŸäº›å‡½æ•°å¯èƒ½éœ€è¦æ·»åŠ ç±»å‹ç­¾å

æç¤ºï¼š
- ä½¿ç”¨ GHCi æµ‹è¯•ä½ çš„å‡½æ•°
- è¿è¡Œ `stack test` æ£€æŸ¥ä½ çš„ç­”æ¡ˆ
- å¦‚æœé‡åˆ°å›°éš¾ï¼ŒæŸ¥çœ‹ solutions/ ç›®å½•ä¸­çš„å‚è€ƒç­”æ¡ˆ
-}

module Lecture1 where

{- |
ç»ƒä¹  1ï¼šmakeSnippet

ä»»åŠ¡ï¼šä¸ºç»™å®šå­—ç¬¦ä¸²æ·»åŠ ç±»å‹ç­¾å

è¿™ä¸ªå‡½æ•°å°†é•¿å­—ç¬¦ä¸²æˆªæ–­ä¸ºæŒ‡å®šé•¿åº¦ï¼Œå¹¶åœ¨æœ«å°¾æ·»åŠ  "..."ã€‚
å¦‚æœå­—ç¬¦ä¸²å·²ç»çŸ­äºæˆ–ç­‰äºæŒ‡å®šé•¿åº¦ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²ã€‚

ç¤ºä¾‹ï¼š
>>> makeSnippet 7 "Hello, World!"
"Hello, ..."

>>> makeSnippet 20 "Short"
"Short"

>>> makeSnippet 0 "Any string"
"..."

æç¤ºï¼šè¿™ä¸ªå‡½æ•°å·²ç»å®ç°ï¼Œä½ åªéœ€è¦æ·»åŠ æ­£ç¡®çš„ç±»å‹ç­¾åï¼
-}
-- åœ¨ä¸‹ä¸€è¡Œæ·»åŠ ç±»å‹ç­¾å
-- makeSnippet :: ???
makeSnippet n str
  | length str <= n = str
  | otherwise       = take n str ++ "..."


{- |
ç»ƒä¹  2ï¼šsumOfSquares

ä»»åŠ¡ï¼šå®ç°ä¸€ä¸ªå‡½æ•°ï¼Œè®¡ç®—ä» 1 åˆ° n çš„æ‰€æœ‰æ•´æ•°çš„å¹³æ–¹å’Œã€‚

å…¬å¼: 1Â² + 2Â² + 3Â² + ... + nÂ²

ç¤ºä¾‹ï¼š
>>> sumOfSquares 3
14
-- è§£é‡Š: 1Â² + 2Â² + 3Â² = 1 + 4 + 9 = 14

>>> sumOfSquares 5
55
-- è§£é‡Š: 1 + 4 + 9 + 16 + 25 = 55

>>> sumOfSquares 0
0

æç¤ºï¼š
- ä½¿ç”¨åˆ—è¡¨èŒƒå›´ [1..n]
- ä½¿ç”¨ map å’Œ sum å‡½æ•°
- æˆ–è€…ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼
-}
sumOfSquares :: Integer -> Integer
sumOfSquares n = error "sumOfSquares: è¯·å®ç°è¿™ä¸ªå‡½æ•°"


{- |
ç»ƒä¹  3ï¼šlastDigit

ä»»åŠ¡ï¼šæå–æ•´æ•°çš„æœ€åä¸€ä½æ•°å­—ï¼ˆä¸ªä½æ•°ï¼‰ã€‚

ç¤ºä¾‹ï¼š
>>> lastDigit 123
3

>>> lastDigit 5
5

>>> lastDigit (-17)
7

æç¤ºï¼š
- ä½¿ç”¨ `mod` å‡½æ•°
- è€ƒè™‘è´Ÿæ•°çš„æƒ…å†µï¼Œä½¿ç”¨ abs å‡½æ•°
-}
lastDigit :: Int -> Int
lastDigit n = error "lastDigit: è¯·å®ç°è¿™ä¸ªå‡½æ•°"


{- |
ç»ƒä¹  4ï¼šminmax

ä»»åŠ¡ï¼šè®¡ç®—ä¸‰ä¸ªæ•´æ•°ä¸­æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®ã€‚

ç¤ºä¾‹ï¼š
>>> minmax 7 1 4
6
-- è§£é‡Š: max(7,1,4) - min(7,1,4) = 7 - 1 = 6

>>> minmax 3 3 3
0
-- è§£é‡Š: æ‰€æœ‰æ•°ç›¸åŒï¼Œå·®ä¸º 0

>>> minmax (-5) 0 10
15
-- è§£é‡Š: 10 - (-5) = 15

æç¤ºï¼š
- ä½¿ç”¨å†…ç½®çš„ max å’Œ min å‡½æ•°
- max å’Œ min ä¸€æ¬¡åªèƒ½æ¯”è¾ƒä¸¤ä¸ªæ•°
- å¯ä»¥åµŒå¥—ä½¿ç”¨: max a (max b c)
-}
minmax :: (Ord a, Num a) => a -> a -> a -> a
minmax a b c = error "minmax: è¯·å®ç°è¿™ä¸ªå‡½æ•°"


{- |
ç»ƒä¹  5: subString

ä»»åŠ¡ï¼šä»å­—ç¬¦ä¸²ä¸­æå–å­ä¸²ï¼Œç»™å®šèµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ï¼ˆåŒ…å«ï¼‰ã€‚

å‚æ•°ï¼š
- start: èµ·å§‹ç´¢å¼•ï¼ˆä» 0 å¼€å§‹ï¼‰
- end: ç»“æŸç´¢å¼•ï¼ˆåŒ…å«ï¼Œä» 0 å¼€å§‹ï¼‰
- str: åŸå­—ç¬¦ä¸²

ç¤ºä¾‹ï¼š
>>> subString 2 5 "Hello, World!"
"llo,"

>>> subString 0 4 "Haskell"
"Haske"

>>> subString 7 20 "Short"
""
-- è§£é‡Š: ç´¢å¼•è¶…å‡ºèŒƒå›´ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²

æç¤ºï¼š
- ä½¿ç”¨ take å’Œ drop å‡½æ•°
- drop n str ä¼šä¸¢å¼ƒå‰ n ä¸ªå­—ç¬¦
- take m str ä¼šå–å‰ m ä¸ªå­—ç¬¦
- ç»„åˆä½¿ç”¨: take (end - start + 1) (drop start str)
-}
subString :: Int -> Int -> String -> String
subString start end str = error "subString: è¯·å®ç°è¿™ä¸ªå‡½æ•°"


{- |
ç»ƒä¹  6: strSum

ä»»åŠ¡ï¼šè§£æä¸€ä¸ªåŒ…å«ç©ºæ ¼åˆ†éš”æ•°å­—çš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›è¿™äº›æ•°å­—çš„æ€»å’Œã€‚
å¦‚æœå­—ç¬¦ä¸²ä¸ºç©ºæˆ–åªåŒ…å«ç©ºæ ¼ï¼Œè¿”å› 0ã€‚

ç¤ºä¾‹ï¼š
>>> strSum "1 2 3"
6

>>> strSum "10 -5 3"
8

>>> strSum ""
0

>>> strSum "   "
0

>>> strSum "42"
42

æç¤ºï¼š
- ä½¿ç”¨ words å‡½æ•°å°†å­—ç¬¦ä¸²åˆ†å‰²æˆå•è¯åˆ—è¡¨
- ä½¿ç”¨ read å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—
- ä½¿ç”¨ map å’Œ sum
- å¯èƒ½çš„å®ç°: sum (map read (words str))
-}
strSum :: String -> Int
strSum str = error "strSum: è¯·å®ç°è¿™ä¸ªå‡½æ•°"


{- |
ç»ƒä¹  7: lowerAndGreater

ä»»åŠ¡ï¼šç»™å®šä¸€ä¸ªæ•´æ•°åˆ—è¡¨å’Œä¸€ä¸ªé˜ˆå€¼ï¼Œè¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œ
æ˜¾ç¤ºæœ‰å¤šå°‘ä¸ªæ•°å­—å°äºé˜ˆå€¼ï¼Œå¤šå°‘ä¸ªå¤§äºé˜ˆå€¼ã€‚

è¾“å‡ºæ ¼å¼ï¼š"Lower: X; Greater: Y"
å…¶ä¸­ X æ˜¯å°äºé˜ˆå€¼çš„æ•°å­—ä¸ªæ•°ï¼ŒY æ˜¯å¤§äºé˜ˆå€¼çš„æ•°å­—ä¸ªæ•°ã€‚

ç¤ºä¾‹ï¼š
>>> lowerAndGreater 5 [1, 3, 5, 7, 9]
"Lower: 2; Greater: 2"
-- è§£é‡Š: [1,3] å°äº 5, [7,9] å¤§äº 5

>>> lowerAndGreater 0 [(-5), 0, 5]
"Lower: 1; Greater: 1"
-- è§£é‡Š: [-5] å°äº 0, [5] å¤§äº 0, 0 æ—¢ä¸å°äºä¹Ÿä¸å¤§äº 0

>>> lowerAndGreater 10 [1, 2, 3]
"Lower: 3; Greater: 0"

æç¤ºï¼š
- ä½¿ç”¨ filter å‡½æ•°è¿‡æ»¤åˆ—è¡¨
- ä½¿ç”¨ length å‡½æ•°è®¡æ•°
- ä½¿ç”¨ show å‡½æ•°å°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²
- ä½¿ç”¨å­—ç¬¦ä¸²è¿æ¥ ++ æ„å»ºæœ€ç»ˆå­—ç¬¦ä¸²
- æˆ–è€…ä½¿ç”¨ printf å‡½æ•°ï¼ˆéœ€è¦ import Text.Printfï¼‰
-}
lowerAndGreater :: Int -> [Int] -> String
lowerAndGreater threshold list = error "lowerAndGreater: è¯·å®ç°è¿™ä¸ªå‡½æ•°"


{- |
æ­å–œï¼

å¦‚æœä½ å®Œæˆäº†æ‰€æœ‰ 7 ä¸ªç»ƒä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ï¼š
âœ“ å‡½æ•°ç±»å‹ç­¾å
âœ“ åˆ—è¡¨æ“ä½œï¼ˆmap, filter, take, drop, etc.ï¼‰
âœ“ åŸºæœ¬ç®—æœ¯å’Œé€»è¾‘è¿ç®—
âœ“ å­—ç¬¦ä¸²å¤„ç†
âœ“ é«˜é˜¶å‡½æ•°çš„ä½¿ç”¨

ä¸‹ä¸€æ­¥ï¼š
1. ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡: stack test
2. å°è¯• InteractiveExamples.hs ä¸­çš„äº’åŠ¨ç¤ºä¾‹
3. æŒ‘æˆ˜ Challenges.hs ä¸­çš„é«˜çº§é¢˜ç›®

ç»§ç»­åŠ æ²¹ï¼Happy Haskell coding! ğŸ‰
-}
